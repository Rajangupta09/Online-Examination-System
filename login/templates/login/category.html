{% extends 'base.html' %} 
{% block content%}
<!--  End of Welcome nav bar -->

<!--  Content -->

<h1><u><b><center>Category</center></b></u></h1>

<div class="border">
  <div class="input-group">
    <form class="form-inline my-2 my-lg-1">
      <div class="input-group">
        {% if search_term %}
        <input class="form-control mr-sm-2" type="search" placeholder="{{search_term}}" aria-label="Search" name=search>
        <div class="input-group-addon">
          <button type="submit" class="fabutton">
         <i class="fa fa-close">
         </i>
         </button>
         {%else%}
         <input class="form-control mr-sm-2" type="search" placeholder='search' aria-label="Search" name=search>
         <div class="input-group-addon">
          <button type="submit" class="fabutton">
         <i class="fa fa-search">
        </i>
        </button>
        {%endif%}
      
    </div>
  </div>

    </form>      
  </div>
  <div class="row">
    <div class="column" style="background-color:#dde;">
      <br>
      <h3><b><center>Add Category</center></b></h3>
      <form  method="POST" class="example" action="">
        {% csrf_token %}
        <input type="text" placeholder="Category" name="category" required>
        <button type="submit">ADD</button>
      </form>
      <hr>
      <div>
             
          <table class="table table-striped" id="myTable">
            <thead>
              <tr>
              
                <th onclick="sortTable(0)">Category <i class="fa fa-sort"></i></th>
                <th onclick="sortTable(1)">Status</th>
                <th>Option</th>
              </tr>
            </thead>
            <tbody>
              {% for categorie in categories %}
              <tr>
                {% if categorie.status == True %}
                <td>{{categorie.category}}</td>
                <td><a href="{% url 'statc' categorie.id %}">
                  <button class="btn btn-danger" type="submit"><i class="fa fa-eye-slash"> </i> &nbsp; Deactivate</button> </a></td>>
                <td><a href="{% url 'category_edit' categorie.id %}" <button class="btn btn-info"> <i class="fa fa-edit"> </i> Edit</button></a> &nbsp; <a href="{% url 'Category_delete' categorie.id %}"> <button  type="submit" class="btn btn-danger" name="delete"><i class="fa fa-trash-o"> </i> Delete</button></a></td>
                {% else %}
                <td>{{categorie.category}}</td>
                <td><a href="{% url 'statc' categorie.id %}">
                  <button class="btn btn-success" type="submit"><i class="fa fa-eye"> </i> &nbsp; Activate</button> </a></td>
                <td><a href="{% url 'category_edit' categorie.id %}" <button class="btn btn-info"> <i class="fa fa-edit"> </i> Edit</button></a> &nbsp; <a href="{% url 'Category_delete' categorie.id %}"> <button  type="submit" class="btn btn-danger" name="delete"><i class="fa fa-trash-o"> </i> Delete</button></a></td>
                
                {% endif %}
              </tr>
              {% endfor %}
            </tbody>
          </table>

          <div class="row">
						<div class="col-12">
					{% if categories.has_other_pages %}
					<div class="pagination text-center">                
						<nav class="pagination__nav clearfix">
							{% if categories.has_previous %}
							<a href="?page={{categories.previous_page_number}}" class="pagination__page"><i class="ui-arrow-left"></i></a>
							{% else %}
							<a class="pagination__page disabled"><i class="ui-arrow-left"></i></a>
							{% endif %}
							{% for i in categories.paginator.page_range %}
								{% if categories.number == i %}
									<span class="pagination__page pagination__page--active">{{i}}</span>
								{% else %}
							<a href="?page={{i}}" class="pagination__page">{{i}}</a>
								{% endif %}
							{% endfor %}
							{% if categories.has_next %}
							<a href="?page={{categories.next_page_number}}" class="pagination__page"><i class="ui-arrow-right"></i></a>
							{% else %}
							<a class="pagination__page disabled"><i class="ui-arrow-right"></i></a>
							{% endif %}
						</nav>
					</div>
					{% endif %}
					</div>
					</div>
        
      </div>    
    </div>
  </div>    
</div>
</body>

{%endblock%}